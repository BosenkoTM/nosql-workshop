# Работа с Neo4J

На этом занятии научимся использовать базу данных NoSQL Neo4J.

Предполагается, что платформа, описанная [здесь](../01-environment/README.md), запущена и доступна.

В рамках этого занятия вы узнаете, как использовать Neo4J для выполнения запросов, визуализации и взаимодействия с данными. [Neo4J Browser](https://neo4j.com/developer/guide-neo4j-browser/) является частью Neo4J и предлагает веб-интерфейс для добавления данных, выполнения запросов, создания связей и многого другого. Он также предоставляет удобный способ визуализации данных в базе данных.

undefined Я создам подробное описание архитектуры и основных концепций Neo4j в формате Markdown.{"version_uuid":"60bb3e7d-6c22-46a8-ae36-0ea345d6ddbe","command":"create","id":"neo4j-architecture","type":"text/markdown","content":"# Архитектура и основные концепции Neo4j

## 1. Основные компоненты графовой модели

### Узлы (Nodes)
- Представляют сущности в графе.
- Могут иметь метки (labels) для категоризации.
- Содержат свойства (properties) - пары ключ-значение.

```cypher
CREATE (n:Person {name: 'John', age: 30})
```

### Отношения (Relationships)
- Соединяют узлы между собой.
- Всегда имеют направление и тип.
- Могут содержать свойства.

  ```cypher
  CREATE (a:Person)-[r:KNOWS {since: 2020}]->(b:Person)
  ```

### Свойства (Properties)
- Атрибуты узлов и отношений
- Поддерживаемые типы данных:
  - Числовые (Integer, Float).
  - Строковые (String).
  - Логические (Boolean).
  - Списки (Lists).
  - Временные метки (DateTime).

## 2. Диаграмма базовой архитектуры\n\n```mermaid\ngraph TD
    A[База данных Neo4j] --> B[Уровень хранения]
    A --> C[Уровень обработки]
    A --> D[Уровень доступа]
    
    B --> E[Файловая система]
    B --> F[Кэш]
    
    C --> G[Обработка запросов]
    C --> H[Транзакции]
    \n    D --> I[API]
    D --> J[Клиентские интерфейсы]\n```\n\n## 3. Этапы создания базы данных

### 3.1 Планирование модели данных
1. Определение основных сущностей (узлов)
2. Определение связей между сущностями
3. Проектирование схемы свойств
4. Определение индексов и ограничений


## 4. Лучшие практики моделирования

### 4.1 Правила именования
- Узлы: существительные в PascalCase (Person, Product).
- Отношения: глаголы в UPPER_SNAKE_CASE (KNOWS, HAS_BOUGHT).
- Свойства: camelCase (firstName, dateOfBirth).

### 4.2 Оптимизация производительности
1. Создание индексов для часто запрашиваемых свойств.
2. Использование MERGE вместо CREATE для предотвращения дубликатов.
3. Использование параметризованных запросов.
4. Правильное использование MATCH и WHERE.

### 4.3 Инструменты работы с Neo4j

- Neo4j Browser: веб-интерфейс для выполнения запросов.
- Neo4j Bloom: визуализация и исследование графов.
- Neo4j Data Importer: импорт данных из CSV/JSON.
- Cypher Shell: командная строка для работы с базой.
- Neo4j Desktop: локальное управление базами данных.

## Подключение к Cypher Shell (необязательно)

Для использования `cypher-shell` выполните в терминальном окне следующую команду:

```bash
sudo docker exec -ti neo4j-1 ./bin/cypher-shell -u neo4j -p abc123abc123
```

и вы должны увидеть приглашение командной строки Neo4J:

```bash
dev@dev-vm:~/Downloads/dba/nonrel/neo4j$ sudo docker exec -ti neo4j-1 ./bin/cypher-shell -u neo4j -p abc123abc123
Connected to Neo4j using Bolt protocol version 5.7 at neo4j://localhost:7687 as user neo4j.
Type :help for a list of available commands or :exit to exit the shell.
Note that Cypher queries must end with a semicolon.
```

Введите `:help`, чтобы получить список доступных команд.

```bash
neo4j@neo4j> :help

Available commands:
  :begin       Open a transaction
  :commit      Commit the currently open transaction
  :connect     Connects to a database
  :disconnect  Disconnects from database
  :exit        Exit the logger
  :help        Show this help message
  :history     Statement history
  :impersonate Impersonate user
  :param       Set the value of a query parameter
  :rollback    Rollback the currently open transaction
  :source      Executes Cypher statements from a file
  :use         Set the active database

Для получения справки по конкретной команде введите:
    :help command

Keyboard shortcuts:
    Up and down arrows to access statement history.
    Tab for autocompletion of commands, hit twice to select suggestion from list using arrow keys.

For help on cypher please visit:
    https://neo4j.com/docs/cypher-manual/current/
```

Вы также можете выполнять любые корректные операторы Cypher.

Введите `:exit`, чтобы выйти из командной строки.

В рамках занятия будем использовать Neo4J Browser, так как он предоставляет удобный способ загрузки учебной базы данных.

## Подключение через Neo4J Browser

В окне браузера перейдите по адресу <http://localhost:7474>, и сразу окажетесь на экране входа в Neo4j Browser.

![Alt Image Text](./images/neo4j-login.png "Neo4J Browser")

Введите `bolt://dataplatform:7687` в поле **Connect URL** (URL подключения), `neo4j` в поле **Username** (Имя пользователя) и `abc123abc123` в поле **Password** (Пароль), затем нажмите кнопку **Connect** (Подключиться).

При успешном подключении вы должны увидеть страницу, аналогичную показанной ниже:

![Alt Image Text](./images/neo4j-browser-home.png "Neo4J Browser")

Neo4j поставляется со встроенным учебником, которые предоставляют простой способ загрузки данных в граф и дальнейшего использования этого графа для практики запросов к базе данных.

В верхней панели введите `:play movie graph`, чтобы начать работать с учебным пособием **Movie Graph** (Граф фильмов).

![Alt Image Text](./images/neo4j-play-moviegraph.png "Neo4J Browser")

## Граф фильмов

### Культурные связи между актёрами и фильмами

Граф фильмов — это мини-графическое приложение, содержащее информацию об актёрах и режиссёрах, связанных между собой через фильмы, над которыми они работали вместе.

Этот гайд покажет вам, как:

- **Создавать**: вставлять данные о фильмах в граф.
- **Искать**: извлекать информацию о конкретных фильмах и актёрах.
- **Выполнять запросы**: находить связанных актёров и режиссёров.
- **Решать**: задачу о "Бейконовской дистанции" (Bacon Path).

> **ПРЕДУПРЕЖДЕНИЕ**: Этот гайд будет вносить изменения в данные текущей активной базы данных.

---

Выполните запрос, нажав клавишу ENTER или кликнув на стрелку воспроизведения в правом верхнем углу.

![Alt Image Text](./images/neo4j-moviegraph.png "Neo4J Browser")

## Загрузка графа фильмов

Используйте закрепление (-pin) на панели Movie Graph, чтобы закрепить эту панель сверху. Мы будем следовать инструкциям в этом окне пошагово. Нажмите на следующий шаг в навигационной панели внизу, чтобы перейти к 2/8.

![Alt Image Text](./images/neo4j-create-graph.png "Neo4J Browser")

Нажмите на маленькую стрелку слева от команды `CREATE ..`, и она должна появиться в верхней панели.

Выполните команду `CREATE ..`, чтобы создать граф фильмов и добавить некоторые пробные данные о фильмах.

Прежде чем продолжить со следующим шагом, давайте посмотрим, как выглядит граф. Нажмите на иконку базы данных в левом верхнем углу браузера Neo4j.

![Alt Image Text](./images/neo4j-database-view1.png "Neo4J Browser")

Мы можем увидеть различные **Node Labels**, **Relationship Types** и **Property Keys**, которые были созданы для графа фильмов, а также сколько их создано для каждого типа.

## Примеры запросов

Перейдите к шагу 3/8, чтобы найти несколько примеров операторов `Cypher` для поиска информации в графе.

![Alt Image Text](./images/neo4j-find-queries1.png "Neo4J Browser")

Первый запрос находит актёра по имени "Том Хэнкс".


```cypher
MATCH (tom {name: "Tom Hanks"}) RETURN tom
```

Выполните его и прокрутите вниз, чтобы увидеть результат в графическом виде.

![Alt Image Text](./images/neo4j-find-tom-hanks1.png "Neo4J Browser")

Так как мы выполнили сопоставление только для одного человека (Person), отображается всего один узел.

Теперь найдём фильм с названием "Cloud Atlas" ...

```cypher
MATCH (cloudAtlas {title: "Cloud Atlas"}) RETURN cloudAtlas
```

The result is similar to the one before, but this time another type of node, a **Movie** node is returned and that's why it is shown in another color. You can click on a node and expand the relationship from/to the **Cloud Atlas** movie node.

![Alt Image Text](./images/neo4j-show-expand-menu.png "Neo4J Browser")

Нажмите на кнопку "Развернуть" (expand), и вы увидите все узлы, связанные с узлом фильма.

![Alt Image Text](./images/neo4j-show-related-nodes.png "Neo4J Browser")

Мы видим, что все они относятся к типу Person (что показывается одинаковым цветом).

Выполните все запросы на панели 3/8, а затем переходите к другим панелям.

Вы увидите множество интересных запросов, демонстрирующих мощь графовых баз данных. Например:

Покажите партнёров по съёмкам Тома Хэнкса:

```cypher
MATCH (tom:Person {name:"Tom Hanks"})-[:ACTED_IN]->(m)<-[:ACTED_IN]-(coActors) RETURN coActors.name
```

Или найдите "Бейконовскую цепочку" — самый короткий путь через любые отношения к  `Meg Ryan`.

```cypher
MATCH p=shortestPath(
(bacon:Person {name:"Kevin Bacon"})-[*]-(meg:Person {name:"Meg Ryan"})
)
RETURN p
```

Результат покажет самый короткий путь от Kevin Bacon до `Meg Ryan`.

![Alt Image Text](./images/neo4j-shortest-path.png "Neo4J Browser")


## Индивидуальные задания

---

#### Структура графа
Используем следующие типы узлов и отношений:

- **Узлы**:
  - `Company` (Компания)
  - `Employee` (Сотрудник)
  - `Project` (Проект)
  - `Client` (Клиент)

- **Отношения**:
  - `WORKS_AT` (Сотрудник работает в компании)
  - `MANAGES` (Сотрудник управляет проектом)
  - `PARTICIPATES_IN` (Сотрудник участвует в проекте)
  - `HAS_PROJECT` (Компания имеет проект)
  - `IS_CLIENT_OF` (Клиент связан с проектом)

---

#### Данные для загрузки

#### Компании (`Company`)
| id | name       | industry   |
|----|------------|------------|
| 1  | ABC Corp   | IT         |
| 2  | XYZ Inc    | Finance    |
| 3  | DEF Ltd    | Retail     |
| 4  | GHI Group  | Manufacturing |
| 5  | JKL Co     | Healthcare |

#### Сотрудники (`Employee`)
| id | name        | position      | company_id |
|----|-------------|---------------|------------|
| 1  | John Doe    | Developer     | 1          |
| 2  | Jane Smith  | Manager       | 2          |
| 3  | Alice Brown | Analyst       | 3          |
| 4  | Bob Green   | Engineer      | 4          |
| 5  | Carol White | Designer      | 5          |
| 6  | David Black | Developer     | 1          |
| 7  | Emily Gray  | Manager       | 2          |
| 8  | Frank Red   | Analyst       | 3          |
| 9  | Grace Blue  | Engineer      | 4          |
| 10 | Helen Pink  | Designer      | 5          |

#### Проекты (`Project`)
| id | name         | start_date  | end_date    | company_id |
|----|--------------|-------------|-------------|------------|
| 1  | Project X    | 2023-01-01  | 2023-06-01  | 1          |
| 2  | Project Y    | 2023-02-01  | 2023-07-01  | 2          |
| 3  | Project Z    | 2023-03-01  | 2023-08-01  | 3          |
| 4  | Project A    | 2023-04-01  | 2023-09-01  | 4          |
| 5  | Project B    | 2023-05-01  | 2023-10-01  | 5          |
| 6  | Project C    | 2023-06-01  | 2023-11-01  | 1          |
| 7  | Project D    | 2023-07-01  | 2023-12-01  | 2          |
| 8  | Project E    | 2023-08-01  | 2024-01-01  | 3          |
| 9  | Project F    | 2023-09-01  | 2024-02-01  | 4          |
| 10 | Project G    | 2023-10-01  | 2024-03-01  | 5          |

#### Клиенты (`Client`)
| id | name       | project_id |
|----|------------|------------|
| 1  | Client A   | 1          |
| 2  | Client B   | 2          |
| 3  | Client C   | 3          |
| 4  | Client D   | 4          |
| 5  | Client E   | 5          |
| 6  | Client F   | 6          |
| 7  | Client G   | 7          |
| 8  | Client H   | 8          |
| 9  | Client I   | 9          |
| 10 | Client J   | 10         |

#### Участие в проектах (`Project_Participation`)
| employee_id | project_id | role            |
|-------------|------------|-----------------|
| 1           | 1          | Lead Developer |
| 2           | 2          | Project Manager |
| 3           | 3          | Data Analyst    |
| 4           | 4          | Software Engineer |
| 5           | 5          | UX Designer     |
| 6           | 6          | Junior Developer |
| 7           | 7          | Team Leader     |
| 8           | 8          | Business Analyst |
| 9           | 9          | DevOps Engineer  |
| 10          | 10         | Graphic Designer |

---

#### Загрузка данных в Neo4j

Используйте следующие Cypher-запросы для создания узлов и отношений:

##### Создание компаний
```cypher
CREATE (:Company {id: 1, name: "ABC Corp", industry: "IT"}),
       (:Company {id: 2, name: "XYZ Inc", industry: "Finance"}),
       (:Company {id: 3, name: "DEF Ltd", industry: "Retail"}),
       (:Company {id: 4, name: "GHI Group", industry: "Manufacturing"}),
       (:Company {id: 5, name: "JKL Co", industry: "Healthcare"});
```

##### Создание сотрудников
```cypher
CREATE (:Employee {id: 1, name: "John Doe", position: "Developer", company_id: 1}),
       (:Employee {id: 2, name: "Jane Smith", position: "Manager", company_id: 2}),
       (:Employee {id: 3, name: "Alice Brown", position: "Analyst", company_id: 3}),
       (:Employee {id: 4, name: "Bob Green", position: "Engineer", company_id: 4}),
       (:Employee {id: 5, name: "Carol White", position: "Designer", company_id: 5}),
       (:Employee {id: 6, name: "David Black", position: "Developer", company_id: 1}),
       (:Employee {id: 7, name: "Emily Gray", position: "Manager", company_id: 2}),
       (:Employee {id: 8, name: "Frank Red", position: "Analyst", company_id: 3}),
       (:Employee {id: 9, name: "Grace Blue", position: "Engineer", company_id: 4}),
       (:Employee {id: 10, name: "Helen Pink", position: "Designer", company_id: 5});
```

##### Создание проектов
```cypher
CREATE (:Project {id: 1, name: "Project X", start_date: "2023-01-01", end_date: "2023-06-01", company_id: 1}),
       (:Project {id: 2, name: "Project Y", start_date: "2023-02-01", end_date: "2023-07-01", company_id: 2}),
       (:Project {id: 3, name: "Project Z", start_date: "2023-03-01", end_date: "2023-08-01", company_id: 3}),
       (:Project {id: 4, name: "Project A", start_date: "2023-04-01", end_date: "2023-09-01", company_id: 4}),
       (:Project {id: 5, name: "Project B", start_date: "2023-05-01", end_date: "2023-10-01", company_id: 5}),
       (:Project {id: 6, name: "Project C", start_date: "2023-06-01", end_date: "2023-11-01", company_id: 1}),
       (:Project {id: 7, name: "Project D", start_date: "2023-07-01", end_date: "2023-12-01", company_id: 2}),
       (:Project {id: 8, name: "Project E", start_date: "2023-08-01", end_date: "2024-01-01", company_id: 3}),
       (:Project {id: 9, name: "Project F", start_date: "2023-09-01", end_date: "2024-02-01", company_id: 4}),
       (:Project {id: 10, name: "Project G", start_date: "2023-10-01", end_date: "2024-03-01", company_id: 5});
```

##### Создание клиентов
```cypher
CREATE (:Client {id: 1, name: "Client A", project_id: 1}),
       (:Client {id: 2, name: "Client B", project_id: 2}),
       (:Client {id: 3, name: "Client C", project_id: 3}),
       (:Client {id: 4, name: "Client D", project_id: 4}),
       (:Client {id: 5, name: "Client E", project_id: 5}),
       (:Client {id: 6, name: "Client F", project_id: 6}),
       (:Client {id: 7, name: "Client G", project_id: 7}),
       (:Client {id: 8, name: "Client H", project_id: 8}),
       (:Client {id: 9, name: "Client I", project_id: 9}),
       (:Client {id: 10, name: "Client J", project_id: 10});
```

##### Создание отношений
```cypher
MATCH (e:Employee), (c:Company)
WHERE e.company_id = c.id
CREATE (e)-[:WORKS_AT]->(c);

MATCH (p:Project), (c:Company)
WHERE p.company_id = c.id
CREATE (c)-[:HAS_PROJECT]->(p);

MATCH (e:Employee), (p:Project)
WHERE (e.id = 1 AND p.id = 1) OR (e.id = 2 AND p.id = 2) OR (e.id = 3 AND p.id = 3) OR (e.id = 4 AND p.id = 4) OR (e.id = 5 AND p.id = 5)
CREATE (e)-[:PARTICIPATES_IN {role: CASE WHEN e.id = 1 THEN "Lead Developer" WHEN e.id = 2 THEN "Project Manager" WHEN e.id = 3 THEN "Data Analyst" WHEN e.id = 4 THEN "Software Engineer" WHEN e.id = 5 THEN "UX Designer" END}]->(p);

MATCH (c:Client), (p:Project)
WHERE c.project_id = p.id
CREATE (c)-[:IS_CLIENT_OF]->(p);
```

---

### Задания для студентов


| Вариант | Задание 1                                                                 | Задание 2                                                                 | Задание 3                                                                 | Задание 4                                                                 | Задание 5                                                                 |
|---------|---------------------------------------------------------------------------|---------------------------------------------------------------------------|---------------------------------------------------------------------------|---------------------------------------------------------------------------|---------------------------------------------------------------------------|
| 1       | Найдите все компании из IT-сектора.                                       | Найдите всех сотрудников компании "ABC Corp".                             | Найдите все проекты, начавшиеся после 2023-03-01.                         | Найдите всех клиентов проекта "Project X".                               | Найдите все роли сотрудника "John Doe" в проектах.                        |
| 2       | Найдите все компании из финансового сектора.                              | Найдите всех менеджеров в базе данных.                                   | Найдите все проекты, завершившиеся до 2023-05-01.                        | Найдите всех клиентов проекта "Project Y".                               | Найдите все проекты, в которых участвует сотрудник "Jane Smith".           |
| 3       | Найдите все компании, основанные до 2022 года.                           | Найдите всех разработчиков в базе данных.                               | Найдите все проекты, длительностью более 5 месяцев.                       | Найдите всех клиентов компании "XYZ Inc".                                | Найдите все проекты, в которых участвует сотрудник "John Doe".             |
| 4       | Найдите все компании, имеющие более 3 проектов.                           | Найдите всех сотрудников, работающих более 2 лет.                        | Найдите все проекты, в которых участвуют более 5 сотрудников.              | Найдите всех клиентов, связанных с проектами компании "ABC Corp".        | Найдите все проекты, в которых сотрудник "Jane Smith" является руководителем. |
| 5       | Найдите все компании из розничной торговли.                              | Найдите всех аналитиков в базе данных.                                  | Найдите все проекты, начавшиеся в 2023 году.                             | Найдите всех клиентов проекта "Project Z".                               | Найдите все роли сотрудника "Alice Brown" в проектах.                    |
| 6       | Найдите все компании из здравоохранения.                                 | Найдите всех дизайнеров в базе данных.                                  | Найдите все проекты, завершившиеся в 2024 году.                          | Найдите всех клиентов проекта "Project A".                               | Найдите все проекты, в которых участвует сотрудник "Bob Green".            |
| 7       | Найдите все компании из производства.                                      | Найдите всех инженеров в базе данных.                                   | Найдите все проекты, длительностью менее 3 месяцев.                       | Найдите всех клиентов проекта "Project B".                               | Найдите все роли сотрудника "Carol White" в проектах.                    |
| 8       | Найдите все компании, основанные после 2020 года.                        | Найдите всех сотрудников, работающих менее года.                        | Найдите все проекты, начавшиеся в первом квартале 2023 года.              | Найдите всех клиентов проекта "Project C".                               | Найдите все проекты, в которых сотрудник "David Black" является разработчиком. |
| 9       | Найдите все компании, имеющие менее 2 проектов.                          | Найдите всех сотрудников, работающих в компании "DEF Ltd".               | Найдите все проекты, завершившиеся во втором квартале 2023 года.          | Найдите всех клиентов проекта "Project D".                               | Найдите все роли сотрудника "Emily Gray" в проектах.                     |
| 10      | Найдите все компании, имеющие более 5 сотрудников.                       | Найдите всех сотрудников, работающих в компании "GHI Group".             | Найдите все проекты, начавшиеся в третьем квартале 2023 года.             | Найдите всех клиентов проекта "Project E".                               | Найдите все проекты, в которых сотрудник "Frank Red" является аналитиком.  |
| 11      | Найдите все компании из сферы технологий.                                | Найдите всех сотрудников, занимающих должность "Lead Developer".         | Найдите все проекты, продолжительностью от 4 до 6 месяцев.                | Найдите всех клиентов проекта "Project F".                               | Найдите все проекты, в которых сотрудник "Grace Blue" является инженером.   |
| 12      | Найдите все компании, имеющие более 4 проектов.                          | Найдите всех сотрудников, работающих в компании "JKL Co".                | Найдите все проекты, начавшиеся в четвертом квартале 2023 года.            | Найдите всех клиентов проекта "Project G".                               | Найдите все роли сотрудника "Helen Pink" в проектах.                      |
| 13      | Найдите все компании из сферы финансов.                                  | Найдите всех сотрудников, имеющих опыт работы более 5 лет.             | Найдите все проекты, длительностью менее 6 месяцев.                       | Найдите всех клиентов проекта "Project H".                               | Найдите все проекты, в которых сотрудник "John Doe" является менеджером.     |
| 14      | Найдите все компании из сферы розничной торговли.                        | Найдите всех сотрудников, работающих в компании "ABC Corp".              | Найдите все проекты, начавшиеся в феврале 2023 года.                     | Найдите всех клиентов проекта "Project I".                               | Найдите все роли сотрудника "Jane Smith" в проектах.                     |
| 15      | Найдите все компании из сферы производства.                               | Найдите всех сотрудников, занимающих должность "Analyst".               | Найдите все проекты, завершившиеся в сентябре 2023 года.                  | Найдите всех клиентов проекта "Project J".                               | Найдите все проекты, в которых сотрудник "Alice Brown" является аналитиком. |
| 16      | Найдите все компании из сферы здравоохранения.                           | Найдите всех сотрудников, работающих в компании "XYZ Inc".              | Найдите все проекты, начавшиеся в марте 2023 года.                       | Найдите всех клиентов, связанных с проектами компании "DEF Ltd".         | Найдите все проекты, в которых сотрудник "Bob Green" является инженером.    |
| 17      | Найдите все компании, имеющие более 6 проектов.                          | Найдите всех сотрудников, занимающих должность "Designer".              | Найдите все проекты, длительностью более 8 месяцев.                       | Найдите всех клиентов, связанных с проектами компании "GHI Group".       | Найдите все роли сотрудника "Carol White" в проектах.                    |
| 18      | Найдите все компании, основанные до 2021 года.                          | Найдите всех сотрудников, работающих в компании "JKL Co".               | Найдите все проекты, начавшиеся в мае 2023 года.                         | Найдите всех клиентов, связанных с проектами компании "ABC Corp".        | Найдите все проекты, в которых сотрудник "David Black" является разработчиком. |
| 19      | Найдите все компании, имеющие менее 3 проектов.                          | Найдите всех сотрудников, занимающих должность "Manager".               | Найдите все проекты, завершившиеся в июне 2023 года.                     | Найдите всех клиентов, связанных с проектами компании "XYZ Inc".         | Найдите все роли сотрудника "Emily Gray" в проектах.                     |
| 20      | Найдите все компании, имеющие более 7 сотрудников.                       | Найдите всех сотрудников, работающих в компании "DEF Ltd".              | Найдите все проекты, начавшиеся в июле 2023 года.                         | Найдите всех клиентов, связанных с проектами компании "GHI Group".       | Найдите все проекты, в которых сотрудник "Frank Red" является аналитиком.  |
| 21      | Найдите все компании из сферы услуг.                                     | Найдите всех сотрудников, занимающих должность "Engineer".              | Найдите все проекты, длительностью от 6 до 12 месяцев.                   | Найдите всех клиентов, связанных с проектами компании "JKL Co".          | Найдите все роли сотрудника "Grace Blue" в проектах.                     |
| 22      | Найдите все компании, основанные после 2022 года.                        | Найдите всех сотрудников, работающих в компании "ABC Corp".              | Найдите все проекты, начавшиеся в августе 2023 года.                     | Найдите всех клиентов, связанных с проектами компании "XYZ Inc".         | Найдите все проекты, в которых сотрудник "Helen Pink" является дизайнером. |
| 23      | Найдите все компании из сферы образования.                                | Найдите всех сотрудников, занимающих должность "Developer".              | Найдите все проекты, завершившиеся в октябре 2023 года.                  | Найдите всех клиентов, связанных с проектами компании "DEF Ltd".         | Найдите все роли сотрудника "John Doe" в проектах.                       |
| 24      | Найдите все компании, имеющие более 8 проектов.                          | Найдите всех сотрудников, работающих в компании "GHI Group".             | Найдите все проекты, начавшиеся в ноябре 2023 года.                     | Найдите всех клиентов, связанных с проектами компании "JKL Co".          | Найдите все проекты, в которых сотрудник "Jane Smith" является менеджером.  |
| 25      | Найдите все компании из сферы недвижимости.                             | Найдите всех сотрудников, занимающих должность "Data Analyst".          | Найдите все проекты, длительностью менее 4 месяцев.                       | Найдите всех клиентов, связанных с проектами компании "ABC Corp".        | Найдите все роли сотрудника "Alice Brown" в проектах.                    |
| 26      | Найдите все компании из сферы транспорта.                               | Найдите всех сотрудников, работающих в компании "XYZ Inc".              | Найдите все проекты, начавшиеся в декабре 2023 года.                     | Найдите всех клиентов, связанных с проектами компании "DEF Ltd".         | Найдите все проекты, в которых сотрудник "Bob Green" является инженером.    |
| 27      | Найдите все компании, имеющие более 9 сотрудников.                       | Найдите всех сотрудников, занимающих должность "UX Designer".           | Найдите все проекты, завершившиеся в январе 2024 года.                   | Найдите всех клиентов, связанных с проектами компании "GHI Group".       | Найдите все роли сотрудника "Carol White" в проектах.                    |
| 28      | Найдите все компании из сферы энергетики.                               | Найдите всех сотрудников, работающих в компании "JKL Co".               | Найдите все проекты, начавшиеся в феврале 2024 года.                     | Найдите всех клиентов, связанных с проектами компании "ABC Corp".        | Найдите все проекты, в которых сотрудник "David Black" является разработчиком. |
| 29      | Найдите все компании, имеющие менее 4 проектов.                          | Найдите всех сотрудников, занимающих должность "Team Leader".           | Найдите все проекты, длительностью более 10 месяцев.                     | Найдите всех клиентов, связанных с проектами компании "XYZ Inc".         | Найдите все роли сотрудника "Emily Gray" в проектах.                     |
| 30      | Найдите все компании, имеющие более 10 клиентов.                         | Найдите всех сотрудников, работающих в компании "DEF Ltd".              | Найдите все проекты, начавшиеся в марте 2024 года.                       | Найдите всех клиентов, связанных с проектами компании "GHI Group".       | Найдите все проекты, в которых сотрудник "Frank Red" является аналитиком.  | 

